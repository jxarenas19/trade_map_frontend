{"remainingRequest":"D:\\TRABAJO\\Proyectos\\Siouxs\\ancom\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\TRABAJO\\Proyectos\\Siouxs\\ancom\\frontend\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\TRABAJO\\Proyectos\\Siouxs\\ancom\\frontend\\src\\helpers\\fakebackend\\user.service.js","dependencies":[{"path":"D:\\TRABAJO\\Proyectos\\Siouxs\\ancom\\frontend\\src\\helpers\\fakebackend\\user.service.js","mtime":1661564863443},{"path":"D:\\TRABAJO\\Proyectos\\Siouxs\\ancom\\frontend\\babel.config.js","mtime":1661196671954},{"path":"D:\\TRABAJO\\Proyectos\\Siouxs\\ancom\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1676244686969},{"path":"D:\\TRABAJO\\Proyectos\\Siouxs\\ancom\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1676244696167},{"path":"D:\\TRABAJO\\Proyectos\\Siouxs\\ancom\\frontend\\node_modules\\eslint-loader\\index.js","mtime":1676244690669}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgYXV0aEhlYWRlciB9IGZyb20gJy4vYXV0aC1oZWFkZXInOwppbXBvcnQgcmVxdWVzdCBmcm9tICIuLi8uLi91dGlscy9yZXF1ZXN0IjsKZXhwb3J0IGNvbnN0IHVzZXJTZXJ2aWNlID0gewogIGxvZ2luLAogIGxvZ291dCwKICByZWdpc3RlciwKICBnZXRBbGwKfTsKZnVuY3Rpb24gbG9naW4oZW1haWwsIHBhc3N3b3JkKSB7CiAgLy8gY29uc3QgcmVxdWVzdE9wdGlvbnMgPSB7CiAgLy8gICAgIG1ldGhvZDogJ1BPU1QnLAogIC8vICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSwKICAvLyAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBlbWFpbCwgcGFzc3dvcmQgfSkKICAvLyB9OwogIHJldHVybiByZXF1ZXN0LnBvc3QoJy91c2Vycy9hdXRoZW50aWNhdGUnLCB7CiAgICBlbWFpbCwKICAgIHBhc3N3b3JkCiAgfSkudGhlbihoYW5kbGVSZXNwb25zZSkudGhlbih1c2VyID0+IHsKICAgIGNvbnNvbGUubG9nKHVzZXIpOwogICAgLy8gbG9naW4gc3VjY2Vzc2Z1bCBpZiB0aGVyZSdzIGEgand0IHRva2VuIGluIHRoZSByZXNwb25zZQogICAgaWYgKHVzZXIuYWNjZXNzX3Rva2VuKSB7CiAgICAgIC8vIHN0b3JlIHVzZXIgZGV0YWlscyBhbmQgand0IHRva2VuIGluIGxvY2FsIHN0b3JhZ2UgdG8ga2VlcCB1c2VyIGxvZ2dlZCBpbiBiZXR3ZWVuIHBhZ2UgcmVmcmVzaGVzCiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyJywgSlNPTi5zdHJpbmdpZnkodXNlcikpOwogICAgfQogICAgcmV0dXJuIHVzZXI7CiAgfSk7Cn0KZnVuY3Rpb24gbG9nb3V0KCkgewogIC8vIHJlbW92ZSB1c2VyIGZyb20gbG9jYWwgc3RvcmFnZSB0byBsb2cgdXNlciBvdXQKICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcicpOwp9CmZ1bmN0aW9uIHJlZ2lzdGVyKHVzZXIpIHsKICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHsKICAgIG1ldGhvZDogJ1BPU1QnLAogICAgaGVhZGVyczogewogICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICB9LAogICAgYm9keTogSlNPTi5zdHJpbmdpZnkodXNlcikKICB9OwogIHJldHVybiBmZXRjaChgL3VzZXJzL3JlZ2lzdGVyYCwgcmVxdWVzdE9wdGlvbnMpLnRoZW4oaGFuZGxlUmVzcG9uc2UpOwp9CmZ1bmN0aW9uIGdldEFsbCgpIHsKICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHsKICAgIG1ldGhvZDogJ0dFVCcsCiAgICBoZWFkZXJzOiBhdXRoSGVhZGVyKCkKICB9OwogIHJldHVybiBmZXRjaChgL3VzZXJzYCwgcmVxdWVzdE9wdGlvbnMpLnRoZW4oaGFuZGxlUmVzcG9uc2UpOwp9CmZ1bmN0aW9uIGhhbmRsZVJlc3BvbnNlKHJlc3BvbnNlKSB7CiAgaWYgKHJlc3BvbnNlLm1lc3NhZ2UgPT09ICdVc3VhcmlvIG8gY29udHJhc2XDsWEgaW5jb3JyZWN0YScpIHsKICAgIC8vIGF1dG8gbG9nb3V0IGlmIDQwMSByZXNwb25zZSByZXR1cm5lZCBmcm9tIGFwaQogICAgbG9nb3V0KCk7CiAgICBjb25zdCBlcnJvciA9IHJlc3BvbnNlLm1lc3NhZ2U7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogICAgLy8gbG9jYXRpb24ucmVsb2FkKHRydWUpOwogIH0KCiAgcmV0dXJuIHJlc3BvbnNlOwp9"},{"version":3,"names":["authHeader","request","userService","login","logout","register","getAll","email","password","post","then","handleResponse","user","console","log","access_token","localStorage","setItem","JSON","stringify","removeItem","requestOptions","method","headers","body","fetch","response","message","error","Promise","reject"],"sources":["D:/TRABAJO/Proyectos/Siouxs/ancom/frontend/src/helpers/fakebackend/user.service.js"],"sourcesContent":["import { authHeader } from './auth-header';\r\nimport request from \"../../utils/request\";\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    register,\r\n    getAll,\r\n};\r\n\r\nfunction login(email, password) {\r\n\r\n    // const requestOptions = {\r\n    //     method: 'POST',\r\n    //     headers: { 'Content-Type': 'application/json' },\r\n    //     body: JSON.stringify({ email, password })\r\n    // };\r\n    return request.post('/users/authenticate', { email, password }).then(handleResponse)\r\n        .then(user => {\r\n            console.log(user)\r\n            // login successful if there's a jwt token in the response\r\n            if (user.access_token) {\r\n                // store user details and jwt token in local storage to keep user logged in between page refreshes\r\n                localStorage.setItem('user', JSON.stringify(user));\r\n            }\r\n            return user;\r\n        });\r\n}\r\n\r\nfunction logout() {\r\n    // remove user from local storage to log user out\r\n    localStorage.removeItem('user');\r\n}\r\n\r\nfunction register(user) {\r\n    const requestOptions = {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(user)\r\n    };\r\n    return fetch(`/users/register`, requestOptions).then(handleResponse);\r\n}\r\n\r\nfunction getAll() {\r\n    const requestOptions = {\r\n        method: 'GET',\r\n        headers: authHeader()\r\n    };\r\n    return fetch(`/users`, requestOptions).then(handleResponse);\r\n}\r\n\r\nfunction handleResponse(response) {\r\n\r\n    if (response.message === 'Usuario o contrase√±a incorrecta') {\r\n            // auto logout if 401 response returned from api\r\n            logout();\r\n            const error = response.message;\r\n            return Promise.reject(error);\r\n            // location.reload(true);\r\n    }\r\n\r\n    return response;\r\n}\r\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,eAAe;AAC1C,OAAOC,OAAO,MAAM,qBAAqB;AAEzC,OAAO,MAAMC,WAAW,GAAG;EACvBC,KAAK;EACLC,MAAM;EACNC,QAAQ;EACRC;AACJ,CAAC;AAED,SAASH,KAAK,CAACI,KAAK,EAAEC,QAAQ,EAAE;EAE5B;EACA;EACA;EACA;EACA;EACA,OAAOP,OAAO,CAACQ,IAAI,CAAC,qBAAqB,EAAE;IAAEF,KAAK;IAAEC;EAAS,CAAC,CAAC,CAACE,IAAI,CAACC,cAAc,CAAC,CAC/ED,IAAI,CAACE,IAAI,IAAI;IACVC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;IACjB;IACA,IAAIA,IAAI,CAACG,YAAY,EAAE;MACnB;MACAC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACP,IAAI,CAAC,CAAC;IACtD;IACA,OAAOA,IAAI;EACf,CAAC,CAAC;AACV;AAEA,SAASR,MAAM,GAAG;EACd;EACAY,YAAY,CAACI,UAAU,CAAC,MAAM,CAAC;AACnC;AAEA,SAASf,QAAQ,CAACO,IAAI,EAAE;EACpB,MAAMS,cAAc,GAAG;IACnBC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEN,IAAI,CAACC,SAAS,CAACP,IAAI;EAC7B,CAAC;EACD,OAAOa,KAAK,CAAE,iBAAgB,EAAEJ,cAAc,CAAC,CAACX,IAAI,CAACC,cAAc,CAAC;AACxE;AAEA,SAASL,MAAM,GAAG;EACd,MAAMe,cAAc,GAAG;IACnBC,MAAM,EAAE,KAAK;IACbC,OAAO,EAAEvB,UAAU;EACvB,CAAC;EACD,OAAOyB,KAAK,CAAE,QAAO,EAAEJ,cAAc,CAAC,CAACX,IAAI,CAACC,cAAc,CAAC;AAC/D;AAEA,SAASA,cAAc,CAACe,QAAQ,EAAE;EAE9B,IAAIA,QAAQ,CAACC,OAAO,KAAK,iCAAiC,EAAE;IACpD;IACAvB,MAAM,EAAE;IACR,MAAMwB,KAAK,GAAGF,QAAQ,CAACC,OAAO;IAC9B,OAAOE,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;IAC5B;EACR;;EAEA,OAAOF,QAAQ;AACnB"}]}