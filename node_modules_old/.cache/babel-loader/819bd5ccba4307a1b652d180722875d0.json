{"remainingRequest":"D:\\TRABAJO\\Proyectos\\Siouxs\\ancom\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\TRABAJO\\Proyectos\\Siouxs\\ancom\\frontend\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\TRABAJO\\Proyectos\\Siouxs\\ancom\\frontend\\src\\state\\modules\\authfack.js","dependencies":[{"path":"D:\\TRABAJO\\Proyectos\\Siouxs\\ancom\\frontend\\src\\state\\modules\\authfack.js","mtime":1661196672168},{"path":"D:\\TRABAJO\\Proyectos\\Siouxs\\ancom\\frontend\\babel.config.js","mtime":1661196671954},{"path":"D:\\TRABAJO\\Proyectos\\Siouxs\\ancom\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1676244686969},{"path":"D:\\TRABAJO\\Proyectos\\Siouxs\\ancom\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1676244696167},{"path":"D:\\TRABAJO\\Proyectos\\Siouxs\\ancom\\frontend\\node_modules\\eslint-loader\\index.js","mtime":1676244690669}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IHVzZXJTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vaGVscGVycy9mYWtlYmFja2VuZC91c2VyLnNlcnZpY2UnOwppbXBvcnQgcm91dGVyIGZyb20gJy4uLy4uL3JvdXRlci9pbmRleCc7CmNvbnN0IHVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpOwpleHBvcnQgY29uc3Qgc3RhdGUgPSB1c2VyID8gewogIHN0YXR1czogewogICAgbG9nZ2VkdXNlcjogdHJ1ZQogIH0sCiAgdXNlcgp9IDogewogIHN0YXR1czoge30sCiAgdXNlcjogbnVsbAp9OwpleHBvcnQgY29uc3QgYWN0aW9ucyA9IHsKICAvLyBMb2dzIGluIHRoZSB1c2VyLgogIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycwogIGxvZ2luKHsKICAgIGRpc3BhdGNoLAogICAgY29tbWl0CiAgfSwgewogICAgZW1haWwsCiAgICBwYXNzd29yZAogIH0pIHsKICAgIGNvbW1pdCgnbG9naW5SZXF1ZXN0JywgewogICAgICBlbWFpbAogICAgfSk7CiAgICB1c2VyU2VydmljZS5sb2dpbihlbWFpbCwgcGFzc3dvcmQpLnRoZW4odXNlciA9PiB7CiAgICAgIGNvbW1pdCgnbG9naW5TdWNjZXNzJywgdXNlcik7CiAgICAgIHJvdXRlci5wdXNoKCcvJyk7CiAgICB9LCBlcnJvciA9PiB7CiAgICAgIGNvbW1pdCgnbG9naW5GYWlsdXJlJywgZXJyb3IpOwogICAgICBkaXNwYXRjaCgnbm90aWZpY2F0aW9uL2Vycm9yJywgZXJyb3IsIHsKICAgICAgICByb290OiB0cnVlCiAgICAgIH0pOwogICAgfSk7CiAgfSwKICAvLyBMb2dvdXQgdGhlIHVzZXIKICBsb2dvdXQoewogICAgY29tbWl0CiAgfSkgewogICAgdXNlclNlcnZpY2UubG9nb3V0KCk7CiAgICBjb21taXQoJ2xvZ291dCcpOwogIH0sCiAgLy8gcmVnaXN0ZXIgdGhlIHVzZXIKICByZWdpc3RlcnVzZXIoewogICAgZGlzcGF0Y2gsCiAgICBjb21taXQKICB9LCB1c2VyKSB7CiAgICBjb21taXQoJ3JlZ2lzdGVyUmVxdWVzdCcsIHVzZXIpOwogICAgdXNlclNlcnZpY2UucmVnaXN0ZXIodXNlcikudGhlbih1c2VyID0+IHsKICAgICAgY29tbWl0KCdyZWdpc3RlclN1Y2Nlc3MnLCB1c2VyKTsKICAgICAgZGlzcGF0Y2goJ25vdGlmaWNhdGlvbi9zdWNjZXNzJywgJ1JlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsJywgewogICAgICAgIHJvb3Q6IHRydWUKICAgICAgfSk7CiAgICAgIHJvdXRlci5wdXNoKCcvbG9naW4nKTsKICAgIH0sIGVycm9yID0+IHsKICAgICAgY29tbWl0KCdyZWdpc3RlckZhaWx1cmUnLCBlcnJvcik7CiAgICAgIGRpc3BhdGNoKCdub3RpZmljYXRpb24vZXJyb3InLCBlcnJvciwgewogICAgICAgIHJvb3Q6IHRydWUKICAgICAgfSk7CiAgICB9KTsKICB9Cn07CmV4cG9ydCBjb25zdCBtdXRhdGlvbnMgPSB7CiAgbG9naW5SZXF1ZXN0KHN0YXRlLCB1c2VyKSB7CiAgICBzdGF0ZS5zdGF0dXMgPSB7CiAgICAgIGxvZ2dpbmdJbjogdHJ1ZQogICAgfTsKICAgIHN0YXRlLnVzZXIgPSB1c2VyOwogIH0sCiAgbG9naW5TdWNjZXNzKHN0YXRlLCB1c2VyKSB7CiAgICBzdGF0ZS5zdGF0dXMgPSB7CiAgICAgIGxvZ2dlZHVzZXI6IHRydWUKICAgIH07CiAgICBzdGF0ZS51c2VyID0gdXNlcjsKICB9LAogIGxvZ2luRmFpbHVyZShzdGF0ZSkgewogICAgc3RhdGUuc3RhdHVzID0ge307CiAgICBzdGF0ZS51c2VyID0gbnVsbDsKICB9LAogIGxvZ291dChzdGF0ZSkgewogICAgc3RhdGUuc3RhdHVzID0ge307CiAgICBzdGF0ZS51c2VyID0gbnVsbDsKICB9LAogIHJlZ2lzdGVyUmVxdWVzdChzdGF0ZSkgewogICAgc3RhdGUuc3RhdHVzID0gewogICAgICByZWdpc3RlcmluZzogdHJ1ZQogICAgfTsKICB9LAogIHJlZ2lzdGVyU3VjY2VzcyhzdGF0ZSkgewogICAgc3RhdGUuc3RhdHVzID0ge307CiAgfSwKICByZWdpc3RlckZhaWx1cmUoc3RhdGUpIHsKICAgIHN0YXRlLnN0YXR1cyA9IHt9OwogIH0KfTs="},{"version":3,"names":["userService","router","user","JSON","parse","localStorage","getItem","state","status","loggeduser","actions","login","dispatch","commit","email","password","then","push","error","root","logout","registeruser","register","mutations","loginRequest","loggingIn","loginSuccess","loginFailure","registerRequest","registering","registerSuccess","registerFailure"],"sources":["D:/TRABAJO/Proyectos/Siouxs/ancom/frontend/src/state/modules/authfack.js"],"sourcesContent":["import { userService } from '../../helpers/fakebackend/user.service';\r\nimport router from '../../router/index'\r\n\r\nconst user = JSON.parse(localStorage.getItem('user'));\r\nexport const state = user\r\n    ? { status: { loggeduser: true }, user }\r\n    : { status: {}, user: null };\r\n\r\nexport const actions = {\r\n    // Logs in the user.\r\n    // eslint-disable-next-line no-unused-vars\r\n    login({ dispatch, commit }, { email, password }) {\r\n        commit('loginRequest', { email });\r\n\r\n        userService.login(email, password)\r\n            .then(\r\n\r\n                user => {\r\n                    commit('loginSuccess', user);\r\n                    router.push('/');\r\n                },\r\n                error => {\r\n                    commit('loginFailure', error);\r\n                    dispatch('notification/error', error, { root: true });\r\n                }\r\n            );\r\n    },\r\n    // Logout the user\r\n    logout({ commit }) {\r\n        userService.logout();\r\n        commit('logout');\r\n    },\r\n    // register the user\r\n    registeruser({ dispatch, commit }, user) {\r\n        commit('registerRequest', user);\r\n        userService.register(user)\r\n            .then(\r\n                user => {\r\n                    commit('registerSuccess', user);\r\n                    dispatch('notification/success', 'Registration successful', { root: true });\r\n                    router.push('/login');\r\n                },\r\n                error => {\r\n                    commit('registerFailure', error);\r\n                    dispatch('notification/error', error, { root: true });\r\n                }\r\n            );\r\n    }\r\n};\r\n\r\nexport const mutations = {\r\n    loginRequest(state, user) {\r\n        state.status = { loggingIn: true };\r\n        state.user = user;\r\n    },\r\n    loginSuccess(state, user) {\r\n        state.status = { loggeduser: true };\r\n        state.user = user;\r\n    },\r\n    loginFailure(state) {\r\n        state.status = {};\r\n        state.user = null;\r\n    },\r\n    logout(state) {\r\n        state.status = {};\r\n        state.user = null;\r\n    },\r\n    registerRequest(state) {\r\n        state.status = { registering: true };\r\n    },\r\n    registerSuccess(state) {\r\n        state.status = {};\r\n    },\r\n    registerFailure(state) {\r\n        state.status = {};\r\n    }\r\n};\r\n\r\n"],"mappings":"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"}]}