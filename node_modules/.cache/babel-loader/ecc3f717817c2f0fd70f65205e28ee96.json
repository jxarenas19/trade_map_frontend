{"remainingRequest":"D:\\TRABAJO\\Proyectos\\Fullstackgroup\\Vuejs\\node_modules\\babel-loader\\lib\\index.js!D:\\TRABAJO\\Proyectos\\Fullstackgroup\\Vuejs\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\TRABAJO\\Proyectos\\Fullstackgroup\\Vuejs\\src\\helpers\\fakebackend\\user.service.js","dependencies":[{"path":"D:\\TRABAJO\\Proyectos\\Fullstackgroup\\Vuejs\\src\\helpers\\fakebackend\\user.service.js","mtime":1606255238000},{"path":"D:\\TRABAJO\\Proyectos\\Fullstackgroup\\Vuejs\\babel.config.js","mtime":1590418726000},{"path":"D:\\TRABAJO\\Proyectos\\Fullstackgroup\\Vuejs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1676246665630},{"path":"D:\\TRABAJO\\Proyectos\\Fullstackgroup\\Vuejs\\node_modules\\babel-loader\\lib\\index.js","mtime":1676246672412},{"path":"D:\\TRABAJO\\Proyectos\\Fullstackgroup\\Vuejs\\node_modules\\eslint-loader\\index.js","mtime":1676246667568}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgYXV0aEhlYWRlciB9IGZyb20gJy4vYXV0aC1oZWFkZXInOwpleHBvcnQgY29uc3QgdXNlclNlcnZpY2UgPSB7CiAgbG9naW4sCiAgbG9nb3V0LAogIHJlZ2lzdGVyLAogIGdldEFsbAp9OwpmdW5jdGlvbiBsb2dpbihlbWFpbCwgcGFzc3dvcmQpIHsKICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHsKICAgIG1ldGhvZDogJ1BPU1QnLAogICAgaGVhZGVyczogewogICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICB9LAogICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICBlbWFpbCwKICAgICAgcGFzc3dvcmQKICAgIH0pCiAgfTsKICByZXR1cm4gZmV0Y2goYC91c2Vycy9hdXRoZW50aWNhdGVgLCByZXF1ZXN0T3B0aW9ucykudGhlbihoYW5kbGVSZXNwb25zZSkudGhlbih1c2VyID0+IHsKICAgIC8vIGxvZ2luIHN1Y2Nlc3NmdWwgaWYgdGhlcmUncyBhIGp3dCB0b2tlbiBpbiB0aGUgcmVzcG9uc2UKICAgIGlmICh1c2VyLnRva2VuKSB7CiAgICAgIC8vIHN0b3JlIHVzZXIgZGV0YWlscyBhbmQgand0IHRva2VuIGluIGxvY2FsIHN0b3JhZ2UgdG8ga2VlcCB1c2VyIGxvZ2dlZCBpbiBiZXR3ZWVuIHBhZ2UgcmVmcmVzaGVzCiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyJywgSlNPTi5zdHJpbmdpZnkodXNlcikpOwogICAgfQogICAgcmV0dXJuIHVzZXI7CiAgfSk7Cn0KZnVuY3Rpb24gbG9nb3V0KCkgewogIC8vIHJlbW92ZSB1c2VyIGZyb20gbG9jYWwgc3RvcmFnZSB0byBsb2cgdXNlciBvdXQKICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcicpOwp9CmZ1bmN0aW9uIHJlZ2lzdGVyKHVzZXIpIHsKICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHsKICAgIG1ldGhvZDogJ1BPU1QnLAogICAgaGVhZGVyczogewogICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICB9LAogICAgYm9keTogSlNPTi5zdHJpbmdpZnkodXNlcikKICB9OwogIHJldHVybiBmZXRjaChgL3VzZXJzL3JlZ2lzdGVyYCwgcmVxdWVzdE9wdGlvbnMpLnRoZW4oaGFuZGxlUmVzcG9uc2UpOwp9CmZ1bmN0aW9uIGdldEFsbCgpIHsKICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHsKICAgIG1ldGhvZDogJ0dFVCcsCiAgICBoZWFkZXJzOiBhdXRoSGVhZGVyKCkKICB9OwogIHJldHVybiBmZXRjaChgL3VzZXJzYCwgcmVxdWVzdE9wdGlvbnMpLnRoZW4oaGFuZGxlUmVzcG9uc2UpOwp9CmZ1bmN0aW9uIGhhbmRsZVJlc3BvbnNlKHJlc3BvbnNlKSB7CiAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKS50aGVuKHRleHQgPT4gewogICAgY29uc3QgZGF0YSA9IHRleHQgJiYgSlNPTi5wYXJzZSh0ZXh0KTsKICAgIGlmICghcmVzcG9uc2Uub2spIHsKICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7CiAgICAgICAgLy8gYXV0byBsb2dvdXQgaWYgNDAxIHJlc3BvbnNlIHJldHVybmVkIGZyb20gYXBpCiAgICAgICAgbG9nb3V0KCk7CiAgICAgICAgbG9jYXRpb24ucmVsb2FkKHRydWUpOwogICAgICB9CiAgICAgIGNvbnN0IGVycm9yID0gZGF0YSAmJiBkYXRhLm1lc3NhZ2UgfHwgcmVzcG9uc2Uuc3RhdHVzVGV4dDsKICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKICAgIH0KICAgIHJldHVybiBkYXRhOwogIH0pOwp9"},{"version":3,"names":["authHeader","userService","login","logout","register","getAll","email","password","requestOptions","method","headers","body","JSON","stringify","fetch","then","handleResponse","user","token","localStorage","setItem","removeItem","response","text","data","parse","ok","status","location","reload","error","message","statusText","Promise","reject"],"sources":["D:/TRABAJO/Proyectos/Fullstackgroup/Vuejs/src/helpers/fakebackend/user.service.js"],"sourcesContent":["import { authHeader } from './auth-header';\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    register,\r\n    getAll,\r\n};\r\n\r\nfunction login(email, password) {\r\n\r\n    const requestOptions = {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ email, password })\r\n    };\r\n\r\n    return fetch(`/users/authenticate`, requestOptions)\r\n        .then(handleResponse)\r\n        .then(user => {\r\n            // login successful if there's a jwt token in the response\r\n            if (user.token) {\r\n                // store user details and jwt token in local storage to keep user logged in between page refreshes\r\n                localStorage.setItem('user', JSON.stringify(user));\r\n            }\r\n            return user;\r\n        });\r\n}\r\n\r\nfunction logout() {\r\n    // remove user from local storage to log user out\r\n    localStorage.removeItem('user');\r\n}\r\n\r\nfunction register(user) {\r\n    const requestOptions = {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(user)\r\n    };\r\n    return fetch(`/users/register`, requestOptions).then(handleResponse);\r\n}\r\n\r\nfunction getAll() {\r\n    const requestOptions = {\r\n        method: 'GET',\r\n        headers: authHeader()\r\n    };\r\n    return fetch(`/users`, requestOptions).then(handleResponse);\r\n}\r\n\r\nfunction handleResponse(response) {\r\n    return response.text().then(text => {\r\n        const data = text && JSON.parse(text);\r\n        if (!response.ok) {\r\n            if (response.status === 401) {\r\n                // auto logout if 401 response returned from api\r\n                logout();\r\n                location.reload(true);\r\n            }\r\n            const error = (data && data.message) || response.statusText;\r\n            return Promise.reject(error);\r\n        }\r\n        return data;\r\n    });\r\n}\r\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,eAAe;AAE1C,OAAO,MAAMC,WAAW,GAAG;EACvBC,KAAK;EACLC,MAAM;EACNC,QAAQ;EACRC;AACJ,CAAC;AAED,SAASH,KAAK,CAACI,KAAK,EAAEC,QAAQ,EAAE;EAE5B,MAAMC,cAAc,GAAG;IACnBC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEP,KAAK;MAAEC;IAAS,CAAC;EAC5C,CAAC;EAED,OAAOO,KAAK,CAAE,qBAAoB,EAAEN,cAAc,CAAC,CAC9CO,IAAI,CAACC,cAAc,CAAC,CACpBD,IAAI,CAACE,IAAI,IAAI;IACV;IACA,IAAIA,IAAI,CAACC,KAAK,EAAE;MACZ;MACAC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAER,IAAI,CAACC,SAAS,CAACI,IAAI,CAAC,CAAC;IACtD;IACA,OAAOA,IAAI;EACf,CAAC,CAAC;AACV;AAEA,SAASd,MAAM,GAAG;EACd;EACAgB,YAAY,CAACE,UAAU,CAAC,MAAM,CAAC;AACnC;AAEA,SAASjB,QAAQ,CAACa,IAAI,EAAE;EACpB,MAAMT,cAAc,GAAG;IACnBC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACI,IAAI;EAC7B,CAAC;EACD,OAAOH,KAAK,CAAE,iBAAgB,EAAEN,cAAc,CAAC,CAACO,IAAI,CAACC,cAAc,CAAC;AACxE;AAEA,SAASX,MAAM,GAAG;EACd,MAAMG,cAAc,GAAG;IACnBC,MAAM,EAAE,KAAK;IACbC,OAAO,EAAEV,UAAU;EACvB,CAAC;EACD,OAAOc,KAAK,CAAE,QAAO,EAAEN,cAAc,CAAC,CAACO,IAAI,CAACC,cAAc,CAAC;AAC/D;AAEA,SAASA,cAAc,CAACM,QAAQ,EAAE;EAC9B,OAAOA,QAAQ,CAACC,IAAI,EAAE,CAACR,IAAI,CAACQ,IAAI,IAAI;IAChC,MAAMC,IAAI,GAAGD,IAAI,IAAIX,IAAI,CAACa,KAAK,CAACF,IAAI,CAAC;IACrC,IAAI,CAACD,QAAQ,CAACI,EAAE,EAAE;MACd,IAAIJ,QAAQ,CAACK,MAAM,KAAK,GAAG,EAAE;QACzB;QACAxB,MAAM,EAAE;QACRyB,QAAQ,CAACC,MAAM,CAAC,IAAI,CAAC;MACzB;MACA,MAAMC,KAAK,GAAIN,IAAI,IAAIA,IAAI,CAACO,OAAO,IAAKT,QAAQ,CAACU,UAAU;MAC3D,OAAOC,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;IAChC;IACA,OAAON,IAAI;EACf,CAAC,CAAC;AACN"}]}