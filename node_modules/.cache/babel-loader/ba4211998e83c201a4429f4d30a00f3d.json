{"remainingRequest":"D:\\TRABAJO\\Proyectos\\Fullstackgroup\\Vuejs\\node_modules\\babel-loader\\lib\\index.js!D:\\TRABAJO\\Proyectos\\Fullstackgroup\\Vuejs\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\TRABAJO\\Proyectos\\Fullstackgroup\\Vuejs\\src\\helpers\\firebase\\authUtils.js","dependencies":[{"path":"D:\\TRABAJO\\Proyectos\\Fullstackgroup\\Vuejs\\src\\helpers\\firebase\\authUtils.js","mtime":1590499832000},{"path":"D:\\TRABAJO\\Proyectos\\Fullstackgroup\\Vuejs\\babel.config.js","mtime":1590418726000},{"path":"D:\\TRABAJO\\Proyectos\\Fullstackgroup\\Vuejs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1676246665630},{"path":"D:\\TRABAJO\\Proyectos\\Fullstackgroup\\Vuejs\\node_modules\\babel-loader\\lib\\index.js","mtime":1676246672412},{"path":"D:\\TRABAJO\\Proyectos\\Fullstackgroup\\Vuejs\\node_modules\\eslint-loader\\index.js","mtime":1676246667568}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJEOi9UUkFCQUpPL1Byb3llY3Rvcy9GdWxsc3RhY2tncm91cC9WdWVqcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkuanMiOwppbXBvcnQgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UvYXBwJzsKLy8gQWRkIHRoZSBGaXJlYmFzZSBwcm9kdWN0cyB0aGF0IHlvdSB3YW50IHRvIHVzZQppbXBvcnQgImZpcmViYXNlL2F1dGgiOwppbXBvcnQgImZpcmViYXNlL2ZpcmVzdG9yZSI7CmNsYXNzIEZpcmViYXNlQXV0aEJhY2tlbmQgewogIGNvbnN0cnVjdG9yKGZpcmViYXNlQ29uZmlnKSB7CiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgInJlZ2lzdGVyVXNlciIsIChlbWFpbCwgcGFzc3dvcmQpID0+IHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICBmaXJlYmFzZS5hdXRoKCkuY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkKGVtYWlsLCBwYXNzd29yZCkudGhlbih1c2VyID0+IHsKICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZWRlY2xhcmUKICAgICAgICAgIHZhciB1c2VyID0gZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyOwogICAgICAgICAgcmVzb2x2ZSh1c2VyKTsKICAgICAgICB9LCBlcnJvciA9PiB7CiAgICAgICAgICByZWplY3QodGhpcy5faGFuZGxlRXJyb3IoZXJyb3IpKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9KTsKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAibG9naW5Vc2VyIiwgKGVtYWlsLCBwYXNzd29yZCkgPT4gewogICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZChlbWFpbCwgcGFzc3dvcmQpLnRoZW4odXNlciA9PiB7CiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVkZWNsYXJlCiAgICAgICAgICB2YXIgdXNlciA9IGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlcjsKICAgICAgICAgIHJlc29sdmUodXNlcik7CiAgICAgICAgfSwgZXJyb3IgPT4gewogICAgICAgICAgcmVqZWN0KHRoaXMuX2hhbmRsZUVycm9yKGVycm9yKSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSk7CiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImZvcmdldFBhc3N3b3JkIiwgZW1haWwgPT4gewogICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgIGZpcmViYXNlLmF1dGgoKS5zZW5kUGFzc3dvcmRSZXNldEVtYWlsKGVtYWlsLCB7CiAgICAgICAgICB1cmw6IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArICIvLyIgKyB3aW5kb3cubG9jYXRpb24uaG9zdCArICIvbG9naW4iCiAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICByZXNvbHZlKHRydWUpOwogICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgIHJlamVjdCh0aGlzLl9oYW5kbGVFcnJvcihlcnJvcikpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0pOwogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJsb2dvdXQiLCAoKSA9PiB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25PdXQoKS50aGVuKCgpID0+IHsKICAgICAgICAgIHJlc29sdmUodHJ1ZSk7CiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgcmVqZWN0KHRoaXMuX2hhbmRsZUVycm9yKGVycm9yKSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSk7CiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgInNldExvZ2dlZWRJblVzZXIiLCB1c2VyID0+IHsKICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgiYXV0aFVzZXIiLCBKU09OLnN0cmluZ2lmeSh1c2VyKSk7CiAgICB9KTsKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZ2V0QXV0aGVudGljYXRlZFVzZXIiLCAoKSA9PiB7CiAgICAgIGlmICghc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnYXV0aFVzZXInKSkgcmV0dXJuIG51bGw7CiAgICAgIHJldHVybiBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2F1dGhVc2VyJykpOwogICAgfSk7CiAgICBpZiAoZmlyZWJhc2VDb25maWcpIHsKICAgICAgLy8gSW5pdGlhbGl6ZSBGaXJlYmFzZQogICAgICBmaXJlYmFzZS5pbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKTsKICAgICAgZmlyZWJhc2UuYXV0aCgpLm9uQXV0aFN0YXRlQ2hhbmdlZCh1c2VyID0+IHsKICAgICAgICBpZiAodXNlcikgewogICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgiYXV0aFVzZXIiLCBKU09OLnN0cmluZ2lmeSh1c2VyKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ2F1dGhVc2VyJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9CgogIC8qKg0KICAgKiBSZWdpc3RlcnMgdGhlIHVzZXIgd2l0aCBnaXZlbiBkZXRhaWxzDQogICAqLwoKICAvKioNCiAgICogSGFuZGxlIHRoZSBlcnJvcg0KICAgKiBAcGFyYW0geyp9IGVycm9yIA0KICAgKi8KICBfaGFuZGxlRXJyb3IoZXJyb3IpIHsKICAgIHZhciBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlOwogICAgcmV0dXJuIGVycm9yTWVzc2FnZTsKICB9Cn0KbGV0IF9maXJlQmFzZUJhY2tlbmQgPSBudWxsOwoKLyoqDQogKiBJbml0aWxpemUgdGhlIGJhY2tlbmQNCiAqIEBwYXJhbSB7Kn0gY29uZmlnIA0KICovCmNvbnN0IGluaXRGaXJlYmFzZUJhY2tlbmQgPSBjb25maWcgPT4gewogIGlmICghX2ZpcmVCYXNlQmFja2VuZCkgewogICAgX2ZpcmVCYXNlQmFja2VuZCA9IG5ldyBGaXJlYmFzZUF1dGhCYWNrZW5kKGNvbmZpZyk7CiAgfQogIHJldHVybiBfZmlyZUJhc2VCYWNrZW5kOwp9OwoKLyoqDQogKiBSZXR1cm5zIHRoZSBmaXJlYmFzZSBiYWNrZW5kDQogKi8KY29uc3QgZ2V0RmlyZWJhc2VCYWNrZW5kID0gKCkgPT4gewogIHJldHVybiBfZmlyZUJhc2VCYWNrZW5kOwp9OwpleHBvcnQgeyBpbml0RmlyZWJhc2VCYWNrZW5kLCBnZXRGaXJlYmFzZUJhY2tlbmQgfTs="},{"version":3,"names":["firebase","FirebaseAuthBackend","constructor","firebaseConfig","email","password","Promise","resolve","reject","auth","createUserWithEmailAndPassword","then","user","currentUser","error","_handleError","signInWithEmailAndPassword","sendPasswordResetEmail","url","window","location","protocol","host","catch","signOut","sessionStorage","setItem","JSON","stringify","getItem","parse","initializeApp","onAuthStateChanged","removeItem","errorMessage","message","_fireBaseBackend","initFirebaseBackend","config","getFirebaseBackend"],"sources":["D:/TRABAJO/Proyectos/Fullstackgroup/Vuejs/src/helpers/firebase/authUtils.js"],"sourcesContent":["import firebase from 'firebase/app';\r\n// Add the Firebase products that you want to use\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\n\r\nclass FirebaseAuthBackend {\r\n    constructor(firebaseConfig) {\r\n        if (firebaseConfig) {\r\n            // Initialize Firebase\r\n            firebase.initializeApp(firebaseConfig);\r\n            firebase.auth().onAuthStateChanged((user) => {\r\n                if (user) {\r\n                    sessionStorage.setItem(\"authUser\", JSON.stringify(user));\r\n                } else {\r\n                    sessionStorage.removeItem('authUser');\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Registers the user with given details\r\n     */\r\n    registerUser = (email, password) => {\r\n        return new Promise((resolve, reject) => {\r\n            firebase.auth().createUserWithEmailAndPassword(email, password).then((user) => {\r\n                // eslint-disable-next-line no-redeclare\r\n                var user = firebase.auth().currentUser;\r\n                resolve(user);\r\n            }, (error) => {\r\n                reject(this._handleError(error));\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Login user with given details\r\n     */\r\n    loginUser = (email, password) => {\r\n        return new Promise((resolve, reject) => {\r\n            firebase.auth().signInWithEmailAndPassword(email, password).then((user) => {\r\n                // eslint-disable-next-line no-redeclare\r\n                var user = firebase.auth().currentUser;\r\n                resolve(user);\r\n            }, (error) => {\r\n                reject(this._handleError(error));\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * forget Password user with given details\r\n     */\r\n    forgetPassword = (email) => {\r\n        return new Promise((resolve, reject) => {\r\n            firebase.auth().sendPasswordResetEmail(email, { url: window.location.protocol + \"//\" + window.location.host + \"/login\" }).then(() => {\r\n                resolve(true);\r\n            }).catch((error) => {\r\n                reject(this._handleError(error));\r\n            })\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Logout the user\r\n     */\r\n    logout = () => {\r\n        return new Promise((resolve, reject) => {\r\n            firebase.auth().signOut().then(() => {\r\n                resolve(true);\r\n            }).catch((error) => {\r\n                reject(this._handleError(error));\r\n            })\r\n        });\r\n    }\r\n\r\n    setLoggeedInUser = (user) => {\r\n        sessionStorage.setItem(\"authUser\", JSON.stringify(user));\r\n    }\r\n\r\n    /**\r\n     * Returns the authenticated user\r\n     */\r\n    getAuthenticatedUser = () => {\r\n        if (!sessionStorage.getItem('authUser'))\r\n            return null;\r\n        return JSON.parse(sessionStorage.getItem('authUser'));\r\n    }\r\n\r\n    /**\r\n     * Handle the error\r\n     * @param {*} error \r\n     */\r\n    _handleError(error) {\r\n        var errorMessage = error.message;\r\n        return errorMessage;\r\n    }\r\n}\r\n\r\nlet _fireBaseBackend = null;\r\n\r\n/**\r\n * Initilize the backend\r\n * @param {*} config \r\n */\r\nconst initFirebaseBackend = (config) => {\r\n    if (!_fireBaseBackend) {\r\n        _fireBaseBackend = new FirebaseAuthBackend(config);\r\n    }\r\n    return _fireBaseBackend;\r\n}\r\n\r\n/**\r\n * Returns the firebase backend\r\n */\r\nconst getFirebaseBackend = () => {\r\n    return _fireBaseBackend;\r\n}\r\n\r\nexport { initFirebaseBackend, getFirebaseBackend };"],"mappings":"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"}]}